<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="289.6px" preserveAspectRatio="none" style="width:857px;height:289px;" version="1.1" viewBox="0 0 857 289" width="857.6px" zoomAndPan="magnify"><defs><filter height="300%" id="fsazcza796i9f" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.600000023841858"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.200000047683716" dy="3.200000047683716" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster db--><polygon fill="#FFFFFF" filter="url(#fsazcza796i9f)" points="665.6,203.2,683.2,203.2,688.8,221.4399,840,221.4399,840,280,665.6,280,665.6,203.2" style="stroke: #000000; stroke-width: 1.2000000178813934;"/><line style="stroke: #000000; stroke-width: 1.2000000178813934;" x1="665.6" x2="688.8" y1="221.4399" y2="221.4399"/><text fill="#000000" font-family="Courier" font-size="11.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="12.8" x="668.8" y="215.0144">db</text><!--class Repository--><rect fill="#F8F8F8" filter="url(#fsazcza796i9f)" height="48.9602" id="Repository" style="stroke: #383838; stroke-width: 1.2000000178813934;" width="160.8" x="672.4" y="224.8"/><ellipse cx="720.2" cy="240.3201" fill="#FFFFFF" rx="8.8" ry="8.8" style="stroke: #383838; stroke-width: 0.800000011920929;"/><path d="M717.4,237.1201 L717.4,235.5201 L723,235.5201 L723,237.1201 L721.4,237.1201 L721.4,243.5201 L723,243.5201 L723,245.1201 L717.4,245.1201 L717.4,243.5201 L719,243.5201 L719,237.1201 L717.4,237.1201 Z "/><text fill="#000000" font-family="Courier" font-size="9.6" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61.6" x="735" y="237.5553">«Interface»</text><text fill="#000000" font-family="Courier" font-size="9.6" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="56" x="737.8" y="249.0753">Repository</text><line style="stroke: #383838; stroke-width: 1.2000000178813934;" x1="673.2" x2="832.4" y1="255.8402" y2="255.8402"/><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="151.2" x="677.2" y="267.7954">Save(data TxInserter) error</text><!--class StateData--><rect fill="#F8F8F8" filter="url(#fsazcza796i9f)" height="112.9606" id="StateData" style="stroke: #383838; stroke-width: 1.2000000178813934;" width="132.8" x="176" y="35.2"/><ellipse cx="209.96" cy="50.7201" fill="#FFFFFF" rx="8.8" ry="8.8" style="stroke: #383838; stroke-width: 0.800000011920929;"/><path d="M209.735,51.1576 Q208.11,50.6451 207.535,50.0763 Q206.96,49.5076 206.96,48.5576 Q206.96,47.3201 207.7725,46.6201 Q208.585,45.9201 209.9975,45.9201 Q210.6475,45.9201 211.2913,46.1201 Q211.935,46.3201 212.56,46.7201 L212.56,49.1201 Q212.06,48.3326 211.5413,47.9263 Q211.0225,47.5201 210.5225,47.5201 Q209.96,47.5201 209.685,47.7576 Q209.41,47.9951 209.4725,48.4326 Q209.51,48.7701 209.71,48.9763 Q209.91,49.1826 210.4975,49.3951 L211.01,49.5951 Q212.31,50.0826 212.885,50.8763 Q213.46,51.6701 213.36,52.8951 Q213.36,54.2201 212.485,54.8701 Q211.61,55.5201 209.835,55.5201 Q209.11,55.5201 208.3788,55.3201 Q207.6475,55.1201 206.96,54.7201 L206.96,52.3201 Q207.66,53.1326 208.31,53.5263 Q208.96,53.9201 209.61,53.9201 Q210.2475,53.9201 210.6038,53.5951 Q210.96,53.2701 210.96,52.6826 Q210.96,52.2451 210.7975,51.9138 Q210.635,51.5826 210.3225,51.3951 L209.735,51.1576 Z "/><text fill="#000000" font-family="Courier" font-size="9.6" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61.6" x="224.44" y="47.9553">«Structure»</text><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="50.4" x="230.04" y="59.4753">StateData</text><line style="stroke: #383838; stroke-width: 1.2000000178813934;" x1="176.8" x2="308" y1="66.2402" y2="66.2402"/><ellipse cx="184.8" cy="76.4002" fill="none" rx="2.4" ry="2.4" style="stroke: #545454; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="112" x="192" y="78.1954">Login         string</text><ellipse cx="184.8" cy="87.9203" fill="none" rx="2.4" ry="2.4" style="stroke: #545454; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="112" x="192" y="89.7155">DisplayName   string</text><ellipse cx="184.8" cy="99.4404" fill="none" rx="2.4" ry="2.4" style="stroke: #545454; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="112" x="192" y="101.2356">Status        string</text><ellipse cx="184.8" cy="110.9604" fill="none" rx="2.4" ry="2.4" style="stroke: #545454; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="106.4" x="192" y="112.7557">Timestamp     int64</text><ellipse cx="184.8" cy="122.4805" fill="none" rx="2.4" ry="2.4" style="stroke: #545454; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="112" x="192" y="124.2757">PrevStatus    string</text><ellipse cx="184.8" cy="134.0006" fill="none" rx="2.4" ry="2.4" style="stroke: #545454; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="106.4" x="192" y="135.7958">PrevTimestamp int64</text><line style="stroke: #383838; stroke-width: 1.2000000178813934;" x1="176.8" x2="308" y1="141.7606" y2="141.7606"/><!--class ServiceDataStorage--><rect fill="#F8F8F8" filter="url(#fsazcza796i9f)" height="48.6152" id="ServiceDataStorage" style="stroke: #383838; stroke-width: 1.2000000178813934;" width="200" x="4.8" y="224.8"/><ellipse cx="51" cy="240.3201" fill="#FFFFFF" rx="8.8" ry="8.8" style="stroke: #383838; stroke-width: 0.800000011920929;"/><path d="M48.2,237.1201 L48.2,235.5201 L53.8,235.5201 L53.8,237.1201 L52.2,237.1201 L52.2,243.5201 L53.8,243.5201 L53.8,245.1201 L48.2,245.1201 L48.2,243.5201 L49.8,243.5201 L49.8,237.1201 L48.2,237.1201 Z "/><text fill="#000000" font-family="Courier" font-size="9.6" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61.6" x="87" y="237.5553">«Interface»</text><text fill="#000000" font-family="Courier" font-size="9.6" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="100.8" x="67.4" y="249.0753">ServiceDataStorage</text><line style="stroke: #383838; stroke-width: 1.2000000178813934;" x1="5.6" x2="204" y1="255.8402" y2="255.8402"/><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="190.4" x="9.6" y="267.9511">Доступ к данным во внутреннем кэше</text><!--class StatisticDataStorage--><rect fill="#F8F8F8" filter="url(#fsazcza796i9f)" height="48.6152" id="StatisticDataStorage" style="stroke: #383838; stroke-width: 1.2000000178813934;" width="188.8" x="232.8" y="224.8"/><ellipse cx="267.84" cy="240.3201" fill="#FFFFFF" rx="8.8" ry="8.8" style="stroke: #383838; stroke-width: 0.800000011920929;"/><path d="M265.04,237.1201 L265.04,235.5201 L270.64,235.5201 L270.64,237.1201 L269.04,237.1201 L269.04,243.5201 L270.64,243.5201 L270.64,245.1201 L265.04,245.1201 L265.04,243.5201 L266.64,243.5201 L266.64,237.1201 L265.04,237.1201 Z "/><text fill="#000000" font-family="Courier" font-size="9.6" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61.6" x="309.36" y="237.5553">«Interface»</text><text fill="#000000" font-family="Courier" font-size="9.6" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="112" x="284.16" y="249.0753">StatisticDataStorage</text><line style="stroke: #383838; stroke-width: 1.2000000178813934;" x1="233.6" x2="420.8" y1="255.8402" y2="255.8402"/><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="179.2" x="237.6" y="267.9511">Взаимодейсвие с Redis по агентам</text><!--class ProjectStatisticStorage--><rect fill="#F8F8F8" filter="url(#fsazcza796i9f)" height="48.6152" id="ProjectStatisticStorage" style="stroke: #383838; stroke-width: 1.2000000178813934;" width="194.4" x="450" y="224.8"/><ellipse cx="480" cy="240.3201" fill="#FFFFFF" rx="8.8" ry="8.8" style="stroke: #383838; stroke-width: 0.800000011920929;"/><path d="M477.2,237.1201 L477.2,235.5201 L482.8,235.5201 L482.8,237.1201 L481.2,237.1201 L481.2,243.5201 L482.8,243.5201 L482.8,245.1201 L477.2,245.1201 L477.2,243.5201 L478.8,243.5201 L478.8,237.1201 L477.2,237.1201 Z "/><text fill="#000000" font-family="Courier" font-size="9.6" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61.6" x="528.8" y="237.5553">«Interface»</text><text fill="#000000" font-family="Courier" font-size="9.6" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="128.8" x="495.2" y="249.0753">ProjectStatisticStorage</text><line style="stroke: #383838; stroke-width: 1.2000000178813934;" x1="450.8" x2="643.6" y1="255.8402" y2="255.8402"/><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="184.8" x="454.8" y="267.9511">Взаимодейсвие с Redis по проектам</text><!--class AgentModel--><rect fill="#F8F8F8" filter="url(#fsazcza796i9f)" height="122.7553" id="AgentModel" style="stroke: #383838; stroke-width: 1.2000000178813934;" width="200" x="336.8" y="30.4"/><ellipse cx="404.2" cy="45.9201" fill="#FFFFFF" rx="8.8" ry="8.8" style="stroke: #383838; stroke-width: 0.800000011920929;"/><path d="M403.975,46.3576 Q402.35,45.8451 401.775,45.2763 Q401.2,44.7076 401.2,43.7576 Q401.2,42.5201 402.0125,41.8201 Q402.825,41.1201 404.2375,41.1201 Q404.8875,41.1201 405.5313,41.3201 Q406.175,41.5201 406.8,41.9201 L406.8,44.3201 Q406.3,43.5326 405.7813,43.1263 Q405.2625,42.7201 404.7625,42.7201 Q404.2,42.7201 403.925,42.9576 Q403.65,43.1951 403.7125,43.6326 Q403.75,43.9701 403.95,44.1763 Q404.15,44.3826 404.7375,44.5951 L405.25,44.7951 Q406.55,45.2826 407.125,46.0763 Q407.7,46.8701 407.6,48.0951 Q407.6,49.4201 406.725,50.0701 Q405.85,50.7201 404.075,50.7201 Q403.35,50.7201 402.6188,50.5201 Q401.8875,50.3201 401.2,49.9201 L401.2,47.5201 Q401.9,48.3326 402.55,48.7263 Q403.2,49.1201 403.85,49.1201 Q404.4875,49.1201 404.8438,48.7951 Q405.2,48.4701 405.2,47.8826 Q405.2,47.4451 405.0375,47.1138 Q404.875,46.7826 404.5625,46.5951 L403.975,46.3576 Z "/><text fill="#000000" font-family="Courier" font-size="9.6" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61.6" x="419" y="43.1553">«Structure»</text><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="56" x="421.8" y="54.6753">AgentModel</text><line style="stroke: #383838; stroke-width: 1.2000000178813934;" x1="337.6" x2="536" y1="61.4402" y2="61.4402"/><polygon fill="none" points="345.6,68.2277,342.4,73.0277,348.8,73.0277" style="stroke: #535353; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="134.4" x="352.8" y="73.5511">Сервисы доступа к данным</text><polygon fill="none" points="345.6,79.4027,342.4,84.2027,348.8,84.2027" style="stroke: #535353; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="89.6" x="352.8" y="84.7261">Мэнеджер очереди</text><line style="stroke: #383838; stroke-width: 1.2000000178813934;" x1="337.6" x2="536" y1="90.1902" y2="90.1902"/><ellipse cx="345.6" cy="100.1777" fill="#A6A6A6" rx="2.4" ry="2.4" style="stroke: #545454; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="151.2" x="352.8" y="102.3011">Работа с внутренним кэшем()</text><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="0" x="358.4" y="113.3204"/><ellipse cx="345.6" cy="122.8727" fill="#A6A6A6" rx="2.4" ry="2.4" style="stroke: #545454; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="117.6" x="352.8" y="124.9962">Обработка сообщений()</text><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="0" x="358.4" y="136.0155"/><polygon fill="#6C6C6C" points="345.6,142.3678,342.4,147.1678,348.8,147.1678" style="stroke: #535353; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="179.2" x="352.8" y="147.6913">Обновление состояние оператора()</text><!--class SubstateData--><rect fill="#F8F8F8" filter="url(#fsazcza796i9f)" height="170.561" id="SubstateData" style="stroke: #383838; stroke-width: 1.2000000178813934;" width="132.8" x="564.8" y="6.4"/><ellipse cx="594.8" cy="21.9201" fill="#FFFFFF" rx="8.8" ry="8.8" style="stroke: #383838; stroke-width: 0.800000011920929;"/><path d="M594.575,22.3576 Q592.95,21.8451 592.375,21.2763 Q591.8,20.7076 591.8,19.7576 Q591.8,18.5201 592.6125,17.8201 Q593.425,17.1201 594.8375,17.1201 Q595.4875,17.1201 596.1313,17.3201 Q596.775,17.5201 597.4,17.9201 L597.4,20.3201 Q596.9,19.5326 596.3813,19.1263 Q595.8625,18.7201 595.3625,18.7201 Q594.8,18.7201 594.525,18.9576 Q594.25,19.1951 594.3125,19.6326 Q594.35,19.9701 594.55,20.1763 Q594.75,20.3826 595.3375,20.5951 L595.85,20.7951 Q597.15,21.2826 597.725,22.0763 Q598.3,22.8701 598.2,24.0951 Q598.2,25.4201 597.325,26.0701 Q596.45,26.7201 594.675,26.7201 Q593.95,26.7201 593.2188,26.5201 Q592.4875,26.3201 591.8,25.9201 L591.8,23.5201 Q592.5,24.3326 593.15,24.7263 Q593.8,25.1201 594.45,25.1201 Q595.0875,25.1201 595.4438,24.7951 Q595.8,24.4701 595.8,23.8826 Q595.8,23.4451 595.6375,23.1138 Q595.475,22.7826 595.1625,22.5951 L594.575,22.3576 Z "/><text fill="#000000" font-family="Courier" font-size="9.6" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61.6" x="612.8" y="19.1553">«Structure»</text><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="67.2" x="610" y="30.6753">SubstateData</text><line style="stroke: #383838; stroke-width: 1.2000000178813934;" x1="565.6" x2="696.8" y1="37.4402" y2="37.4402"/><ellipse cx="573.6" cy="47.6002" fill="none" rx="2.4" ry="2.4" style="stroke: #545454; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="112" x="580.8" y="49.3954">Status        string</text><ellipse cx="573.6" cy="59.1203" fill="none" rx="2.4" ry="2.4" style="stroke: #545454; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="112" x="580.8" y="60.9155">Login         string</text><ellipse cx="573.6" cy="70.6404" fill="none" rx="2.4" ry="2.4" style="stroke: #545454; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="112" x="580.8" y="72.4356">Substate      string</text><ellipse cx="573.6" cy="82.1604" fill="none" rx="2.4" ry="2.4" style="stroke: #545454; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="106.4" x="580.8" y="83.9557">Timestamp     int64</text><ellipse cx="573.6" cy="93.6805" fill="none" rx="2.4" ry="2.4" style="stroke: #545454; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="100.8" x="580.8" y="95.4757">Enabled       bool</text><ellipse cx="573.6" cy="105.2006" fill="none" rx="2.4" ry="2.4" style="stroke: #545454; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="106.4" x="580.8" y="106.9958">TotalTime     int64</text><ellipse cx="573.6" cy="116.7207" fill="none" rx="2.4" ry="2.4" style="stroke: #545454; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="106.4" x="580.8" y="118.5159">TotalCount    int64</text><ellipse cx="573.6" cy="128.2408" fill="none" rx="2.4" ry="2.4" style="stroke: #545454; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="112" x="580.8" y="130.036">Reason        string</text><ellipse cx="573.6" cy="139.7608" fill="none" rx="2.4" ry="2.4" style="stroke: #545454; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="112" x="580.8" y="141.5561">PrevStatus    string</text><ellipse cx="573.6" cy="151.2809" fill="none" rx="2.4" ry="2.4" style="stroke: #545454; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="106.4" x="580.8" y="153.0761">PrevTimestamp int64</text><ellipse cx="573.6" cy="162.801" fill="none" rx="2.4" ry="2.4" style="stroke: #545454; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="Courier" font-size="9.6" lengthAdjust="spacingAndGlyphs" textLength="112" x="580.8" y="164.5962">PrevReason    string</text><line style="stroke: #383838; stroke-width: 1.2000000178813934;" x1="565.6" x2="696.8" y1="170.561" y2="170.561"/><!--link AgentModel to ServiceDataStorage--><path d="M363.1631,152.8571 C350.1206,161.799 336.2626,170.1997 322.4,176.8 C279.3431,197.3005 263.717,188.3496 218.4,203.2 C202.7344,208.3336 186.146,214.5732 170.6283,220.7791 " fill="none" id="AgentModel-ServiceDataStorage" style="stroke: #383838; stroke-width: 0.800000011920929;"/><polygon fill="#FFFFFF" points="160.8653,224.7341,166.5156,225.8978,169.7629,221.1297,164.1126,219.966,160.8653,224.7341" style="stroke: #383838; stroke-width: 0.800000011920929;"/><!--link AgentModel to StatisticDataStorage--><path d="M394.1119,152.9835 C379.1326,174.5232 362.8823,197.8904 350.1474,216.2026 " fill="none" id="AgentModel-StatisticDataStorage" style="stroke: #383838; stroke-width: 0.800000011920929;"/><polygon fill="#FFFFFF" points="344.1991,224.756,349.5668,222.6423,349.6802,216.8745,344.3125,218.9882,344.1991,224.756" style="stroke: #383838; stroke-width: 0.800000011920929;"/><!--link AgentModel to ProjectStatisticStorage--><path d="M479.7997,152.9835 C494.8883,174.5232 511.2572,197.8904 524.085,216.2026 " fill="none" id="AgentModel-ProjectStatisticStorage" style="stroke: #383838; stroke-width: 0.800000011920929;"/><polygon fill="#FFFFFF" points="530.0768,224.756,529.9437,218.9887,524.5688,216.8933,524.7019,222.6606,530.0768,224.756" style="stroke: #383838; stroke-width: 0.800000011920929;"/><!--link AgentModel to Repository--><path d="M509.8312,152.9735 C522.7934,161.9014 536.5817,170.2672 550.4,176.8 C595.0726,197.9195 611.925,186.415 658.4,203.2 C671.5175,207.9375 685.2251,213.9514 697.9985,220.0557 " fill="none" id="AgentModel-Repository" style="stroke: #383838; stroke-width: 0.800000011920929;"/><polygon fill="#FFFFFF" points="707.5592,224.7217,704.649,219.7406,698.9318,220.5112,701.842,225.4922,707.5592,224.7217" style="stroke: #383838; stroke-width: 0.800000011920929;"/><!--
@startuml

skinparam {
    monochrome true
    classFontSize 12
    classAttributeFontSize 12
    defaultFontName Courier
}

hide interface fields
hide enum methods

package db {
    interface Repository << (I,empty) Interface >> {
        Save(data TxInserter) error
    }
}

class StateData << (S,empty) Structure >> {
	+Login         string
	+DisplayName   string
	+Status        string
	+Timestamp     int64
	+PrevStatus    string
	+PrevTimestamp int64
}


interface ServiceDataStorage << (I,empty) Interface >> {
    {method} ""Доступ к данным во внутреннем кэше""
}

interface StatisticDataStorage << (I,empty) Interface >> {
    {method} ""Взаимодейсвие с Redis по агентам""
}

interface ProjectStatisticStorage << (I,empty) Interface >> {
    {method} ""Взаимодейсвие с Redis по проектам""
}

class AgentModel << (S,empty) Structure >> {
    ~{field} ""Сервисы доступа к данным""
    ~{field} ""Мэнеджер очереди""

	+{method} ""Работа с внутренним кэшем()""

	+{method} ""Обработка сообщений()""

	~{method} ""Обновление состояние оператора()""
}

AgentModel - -o ServiceDataStorage
AgentModel - -o StatisticDataStorage
AgentModel - -o ProjectStatisticStorage
AgentModel - -o Repository

class SubstateData << (S,empty) Structure >> {
	+Status        string
	+Login         string
	+Substate      string
	+Timestamp     int64
	+Enabled       bool
	+TotalTime     int64
	+TotalCount    int64
	+Reason        string
	+PrevStatus    string
	+PrevTimestamp int64
	+PrevReason    string
}



@enduml

PlantUML version 1.2018.11(Sat Sep 22 21:43:53 YEKT 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1343-b26
Operating System: Linux
OS Version: 4.15.0-45-generic
Default Encoding: UTF-8
Language: ru
Country: RU
--></g></svg>